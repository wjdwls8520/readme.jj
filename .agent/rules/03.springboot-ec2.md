---
trigger: always_on
---

# Spring Boot & AWS EC2 Backend Guidelines

## 1. Java & Spring Boot Standards
- **Version**: Java 17+ and Spring Boot 3.x.
- **Architecture**: Strictly follow `Controller` -> `Service` -> `Repository` layered architecture.
- **DTO Pattern**: NEVER return `@Entity` objects directly in APIs. Always convert them to `ResponseDTO`.
- **DI (Dependency Injection)**: Do not use `@Autowired` on fields. Use constructor injection via Lombok's `@RequiredArgsConstructor`.

## 2. Database & JPA
- **Naming**: Use `snake_case` for DB columns and `camelCase` for Java fields.
- **Optimization**: Avoid N+1 problems by using `Fetch Join` or `@EntityGraph`.
- **Transactions**: Ensure `@Transactional(readOnly = true)` is the default for service classes, and override with `@Transactional` only for write methods.

## 3. AWS EC2 & Deployment
- **Configuration**: Never hardcode sensitive data (DB passwords, API keys). Use `application.yml` referencing Environment Variables (e.g., `${DB_PASSWORD}`).
- **Logs**: Configure strict logging. Logs must be stored in files (e.g., `/var/log/myapp/`) for debugging on EC2, not just printed to Console.
- **Health Check**: Implement a simple health check API (`GET /health`) to monitor server status on EC2.

## 4. Documentation
- **Comments**: **Must write all complex logic explanations in Korean (Hangul).**